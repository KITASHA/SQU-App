
<div class="container" style="margin-top: 80px;">
    <div class="row" id="screenshot-target">
        <div class="col-md-11" style="margin-bottom: 20px;">
            <% if @song_1.present? %>
                <h3><%= @song_1.song_title %></h3>
                <!-- これがテーブルのヘッダ行です -->
                <table class="table" style="margin: 20px;">
                    <thead>
                        <tr>
                            <th></th>
                            <% @bands_1.each do |part, _| %>
                                <th><%= part %></th>
                            <% end %>
                        </tr>
                    </thead>
                    <tbody>
                        <% if @bands_1.present? && @bands_1.any? %>
                            <% max_band_count = @bands_1.values.map { |value| value&.size || 0 }.max %>
                            <% max_band_count.times do |i| %>
                                <tr>
                                    <td>Band<%= i+1 %></td>
                                    <% @bands_1.each do |_, members| %>
                                        <td><%= members[i] if members.present? && members[i] %></td>
                                    <% end %>
                                </tr>
                            <% end %>
                        <% end %>
                    </tbody>
                </table>
            <% end %>
        </div>
        <div class="col-md-11" style="margin-bottom: 20px;">
            <% if @song_2.present? %>
                <h3><%= @song_2.song_title %></h3>
                <!-- これがテーブルのヘッダ行です -->
                <table class="table" style="margin: 20px;">
                    <thead>
                        <tr>
                            <th></th>
                            <% @bands_2.each do |part, _| %>
                                <th><%= part %></th>
                            <% end %>
                        </tr>
                    </thead>
                    <tbody>
                        <% if @bands_2.present? && @bands_2.any? %>
                            <% max_band_count = @bands_2.values.map { |value| value&.size || 0 }.max %>
                            <% max_band_count.times do |i| %>
                                <tr>
                                    <td>Band<%= i+1 %></td>
                                    <% @bands_2.each do |_, members| %>
                                        <td><%= members[i] if members.present? && members[i] %></td>
                                    <% end %>
                                </tr>
                            <% end %>
                        <% end %>
                    </tbody>
                </table>
            <% end %>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2" style="margin-top: 30px;">
            <button id="screenshot-button" class="btn btn-primary">画像を取得</button>
        </div>
        
        <div class="col-md-2" style="margin-top: 30px;">
            <div class="btn-group">
                <%= link_to parts_path, class: "btn btn-secondary" do %>
                    前ページ
                <% end %>
            </div>
        </div>
    </div>
</div>